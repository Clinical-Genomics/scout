{% extends 'layouts/scroll-header.html' %}


{% block content %}
    <div id="pileup-viewer"></div>
{% endblock %}

{% block js_btm %}
    {{ super()Â }}
    <script type="text/javascript" charset="utf-8">
        var div = document.getElementById('pileup-viewer');
        var p = pileup.create(div, {
          range: { contig: 'chr17', start: 7512384, stop: 7512544 },
          tracks: [
            {
              viz: pileup.viz.genome(),
              isReference: true,
              data: pileup.formats.twoBit({
                url: 'http://www.biodalliance.org/datasets/hg19.2bit'
              }),
              name: 'Reference'
            },
            {
              viz: pileup.viz.pileup(),
              data: pileup.formats.bam({
                url: '{{ url_for("static", filename=bam_file) }}',
                indexUrl: '{{ url_for("static", filename=(bam_file + ".bai")) }}'
              }),
              cssClass: 'normal',
              name: 'Alignments'
            }
          ]
        });
    </script>
{% endblock %}
